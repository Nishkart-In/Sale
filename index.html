<!DOCTYPE html>
<html lang="en">
<head>


  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>NISHKART â€“ Official Store</title>
<link rel="icon" type="image/png" href="favicon.png">
  

 

  
    <script>
function searchProducts() {
  let input = document.getElementById('searchInput').value.toLowerCase();
  let cards = document.querySelectorAll('.card');
  
  cards.forEach(card => {
    let name = card.querySelector('.name').textContent.toLowerCase();
    let desc = card.querySelector('.desc') ? card.querySelector('.desc').textContent.toLowerCase() : "";
    
    if (name.includes(input) || desc.includes(input)) {
      card.style.display = "block";
    } else {
      card.style.display = "none";
    }
  });
}
</script>

  
<div class="search-bar">
  <input type="text" id="searchInput" placeholder="Search products...">
  <button onclick="searchProducts()">Search</button>
</div>

  
<style>

.actions{ display:flex; gap:10px; align-items:center; }
.actions .buy{ flex:1; }

.add-to-cart{
  padding:12px 14px; border-radius:12px;
  border:2px solid #ff3b2f; color:#ff3b2f; background:transparent;
  font-weight:800; font-size:14px; cursor:pointer;
}
.add-to-cart:hover{ background:#ff3b2f; color:#fff; filter:brightness(.98); }

/* === Cart button in header === */
.cart-btn{
  position:relative; padding:10px 12px; border:1px solid var(--border);
  background:var(--card); color:var(--text); border-radius:12px; font-size:16px;
}
.cart-btn:hover{ filter:brightness(.97); cursor:pointer; }
.cart-count{
  position:absolute; top:-6px; right:-6px; min-width:20px; height:20px;
  padding:0 6px; border-radius:999px; background:#ff3b2f; color:#fff;
  font-size:12px; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 0 rgba(0,0,0,.15);
}

/* === Drawer + backdrop === */
.cart-backdrop{
  position:fixed; inset:0; background:rgba(0,0,0,.4); z-index:9997;
}
.cart-drawer{
  position:fixed; top:0; right:0; height:100vh; width:360px; max-width:90vw;
  background:var(--card); color:var(--text); border-left:1px solid var(--border);
  box-shadow:-8px 0 24px rgba(0,0,0,.25); transform:translateX(100%);
  transition:transform .28s ease; z-index:9998; display:flex; flex-direction:column;
}
.cart-drawer.open{ transform:translateX(0); }
.cart-head{ display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--border); }
.cart-close{ background:transparent; border:none; color:var(--text); font-size:22px; cursor:pointer; }
.cart-items{ padding:8px 10px; overflow:auto; flex:1; }

.cart-item{ display:grid; grid-template-columns:56px 1fr auto; gap:10px; padding:10px; border-bottom:1px solid var(--border); }
.cart-thumb{ width:56px; height:56px; border-radius:10px; overflow:hidden; background:#0b0e14; display:grid; place-items:center; }
.cart-thumb img{ width:100%; height:100%; object-fit:cover; }
.cart-title{ font-weight:700; margin:0 0 6px; font-size:14px; }
.cart-price{ color:var(--muted); font-size:13px; }
.qty{ display:flex; align-items:center; gap:6px; }
.qty button{ width:26px; height:26px; border-radius:8px; border:1px solid var(--border); background:var(--card); color:var(--text); cursor:pointer; }
.qty span{ min-width:22px; text-align:center; }

.remove{ background:transparent; border:none; color:var(--muted); cursor:pointer; font-size:18px; }

.cart-foot{ padding:12px 14px; border-top:1px solid var(--border); }
.cart-row{ display:flex; align-items:center; justify-content:space-between; margin-bottom:10px; }
.cart-actions{ display:flex; gap:10px; }
.btn{ padding:12px 14px; border-radius:12px; font-weight:800; cursor:pointer; }
.btn-primary{ background:#ff3b2f; color:#fff; border:none; }
.btn-primary:hover{ filter:brightness(.95); }
.btn-outline{ background:transparent; color:#ff3b2f; border:2px solid #ff3b2f; }
.btn-outline:hover{ background:#ff3b2f; color:#fff; }
.cart-note{ color:var(--muted); font-size:12px; margin-top:8px; }



  .search-bar {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 10px auto;
  max-width: 500px;
  padding: 5px;
}
.search-bar input {
  flex: 1;
  padding: 10px 15px;
  border: 2px solid #ff3b2f; /* same as Shop Now button */
  border-radius: 6px 0 0 6px;
  outline: none;
  font-size: 14px;
}
.search-bar button {
  background-color: #ff3b2f; /* Shop Now button color */
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 0 6px 6px 0;
  cursor: pointer;
  font-weight: bold;
}
.search-bar button:hover {
  filter: brightness(.95);
}

/* --- NISHKART: Red pill badges same as WhatsApp button --- */
.badges {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-left: auto;
}
.badge {
  background: var(--accent); /* same red as Shop Now */
  color: #fff;
  font-weight: 800;
  padding: 8px 16px;
  border-radius: 12px;
  border: none;
  display: inline-block;
  font-size: 14px;
  line-height: 1;
  box-shadow: 0 2px 0 rgba(0,0,0,.15);
  user-select: none;
}
.badge:hover {
  filter: brightness(.95);
  cursor: pointer;
}
</style>

  <meta name="description" content="NISHKART: Fast WhatsApp checkout.">
  <style>
    :root {
      --bg:#0f1115; --card:#141821; --text:#eaeef5; --muted:#a5adba; --border:#232938;
      --accent:#ff3b2f; --primary:#00c2ff;
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: var(--bg); color: var(--text); }
    header { padding: 22px 16px; position: sticky; top:0; z-index: 10; border-bottom:1px solid var(--border); background: var(--bg); }
    .wrap { max-width:1100px; margin:0 auto; display:flex; align-items:center; gap:14px; }
    .brand { display:flex; align-items:center; gap:12px; }
    .brand img { height:44px; width:auto; }
    .brand h1 { margin:0; font-size: 24px; letter-spacing: 0.5px; }
    .strap { margin:4px 0 0; color:var(--muted); font-size:13px; }
    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:16px; padding:20px; max-width:1100px; margin:0 auto; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:16px; overflow:hidden; box-shadow:0 4px 14px rgba(0,0,0,.06); display:flex; flex-direction:column; }
    .img-wrap { aspect-ratio:4/3; background:#0b0e14; display:grid; place-items:center; overflow:hidden; }
    .img-wrap img { width:100%; height:100%; object-fit:cover; }
    .content { padding:14px 14px 6px; }
    .name { font-weight:800; margin:0 0 6px; }
    .price { color:var(--text); font-weight:800; margin:0 0 8px; }
    .desc { color:var(--muted); font-size:14px; line-height:1.45; margin:0 0 12px; }
    .cta { margin:12px 14px 16px; }
    .cta a { display:block; text-align:center; padding:12px 14px; border:none; border-radius:12px; background:var(--accent); color:#fff; font-weight:800; font-size:15px; text-decoration:none; }
    .cta a:hover { filter: brightness(.95); }
    footer { padding:28px 16px; text-align:center; color:var(--muted); font-size:13px }
    .policies { max-width: 900px; margin: 6px auto 24px; color:var(--muted); font-size:13px; padding: 0 16px; }
    .policies h4 { margin: 12px 0 6px; color: var(--text); }
    .badges { margin-left:auto; display:flex; gap:8px; flex-wrap:wrap; }
    .badge { display:inline-block; font-size:12px; padding:4px 8px; border:1px solid var(--border); border-radius:999px; color:var(--text); background:var(--card); }
    .pill { color:#fff; background: var(--primary); border-color: transparent; }
  </style>
</head>
<body>
<header>

  <!-- ðŸ›’ Cart button in the header tools area -->
<div id="nk-tools" style="margin-left:auto; display:flex; align-items:center; gap:12px;">
  <button id="cartButton" class="cart-btn" aria-label="Open cart">
    ðŸ›’
    <span id="cartCount" class="cart-count">0</span>
  </button>
</div>

<!-- ðŸ§¾ Cart Drawer + Backdrop -->
<div id="cartBackdrop" class="cart-backdrop" hidden></div>

<aside id="cartDrawer" class="cart-drawer" aria-hidden="true">
  <div class="cart-head">
    <h3>My Cart</h3>
    <button id="cartClose" class="cart-close" aria-label="Close">Ã—</button>
  </div>

  <div id="cartItems" class="cart-items">
    <!-- items render here -->
  </div>

  <div class="cart-foot">
    <div class="cart-row">
      <span>Subtotal</span>
      <strong id="cartSubtotal">â‚¹0</strong>
    </div>
    <div class="cart-actions">
      <button id="cartCheckout" class="btn btn-primary">Checkout on WhatsApp</button>
      <button id="cartClear" class="btn btn-outline">Clear Cart</button>
    </div>
    <p class="cart-note">COD/stock will be confirmed on WhatsApp.</p>
  </div>
</aside>



  <div class="wrap">
    <div class="brand">
      <img src="images/small.jpg" alt="NISHKART logo">
      <div>
        <h1>NISHKART</h1>
        <div class="strap">Legacy-grade trust, Smart Shopping, Instant Checkout.</div>
      </div>
    </div>
    <div class="badges">
      <span class="badge">Cash on Delivery</span>
      <span class="badge pill">Fast Dispatch</span>
      <span class="badge">7-Day Return</span>
    </div>
  </div>
</header>

<main class="grid" id="products">
  <div class="card" data-name="Plastic Oil Dispenser â€“ 1000ml (Pack of 2)" data-price="â‚¹199" data-number="919711947389">
  <div class="img-wrap">
    <img src="1.jpg" alt="Plastic Oil Dispenser â€“ 1000ml (Pack of 2)">
  </div>
  <div class="content">
    <h3 class="name">Plastic Oil Dispenser â€“ 1000ml (Pack of 2)</h3>
    <p class="price">â‚¹199</p>
    <p class="desc">Crystal-clear, 1-liter plastic oil dispensers (pack of 2) with stylish, drip-free designâ€”ideal for neat, controlled pouring and easy ingredient level visibility.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="Plastic Oil Dispenser, 1000ml, Pack of 1, Clear" data-price="â‚¹149" data-number="919711947389">
  <div class="img-wrap">
    <img src="2.jpg" alt="Plastic Oil Dispenser, 1000ml, Pack of 1, Clear">
  </div>
  <div class="content">
    <h3 class="name">Plastic Oil Dispenser, 1000ml, Pack of 1, Clear</h3>
    <p class="price">â‚¹149</p>
    <p class="desc">Crystal-clear, 1-liter plastic oil dispensers (pack of 1) with stylish, drip-free designâ€”ideal for neat, controlled pouring and easy ingredient level visibility.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="Non Scratch Dish Wash Cloth Pack of 25" data-price="â‚¹149" data-number="919711947389">
  <div class="img-wrap">
    <img src="3.jpg" alt="Non Scratch Dish Wash Cloth Pack of 25">
  </div>
  <div class="content">
    <h3 class="name">Non Scratch Dish Wash Cloth Pack of 25</h3>
    <p class="price">â‚¹149</p>
    <p class="desc">Dual-sided non-scratch wire mesh â€” tough on grime, gentle on cookware; reusable, quick-rinsing for hassle-free kitchen cleaning.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="500ml 2 in 1 Glass Oil Sprayer and Oil Dispenser Bottle for Kitchen" data-price="â‚¹199" data-number="919711947389">
  <div class="img-wrap">
    <img src="4.jpg" alt="500ml 2 in 1 Glass Oil Sprayer and Oil Dispenser Bottle for Kitchen">
  </div>
  <div class="content">
    <h3 class="name">500ml 2 in 1 Glass Oil Sprayer and Oil Dispenser Bottle for Kitchen</h3>
    <p class="price">â‚¹199</p>
    <p class="desc">High-quality 500 ml glass oil bottle with press-spray design and wide mouthâ€”mist or pour olive oil, vinegar, sauces effortlessly for healthy, mess-free kitchen use.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="4 Pcs Combo of Self-Adhesive Wall Mount Mobile Holder & Charging Stand" data-price="â‚¹149" data-number="919711947389">
  <div class="img-wrap">
    <img src="5.jpg" alt="4 Pcs Combo of Self-Adhesive Wall Mount Mobile Holder & Charging Stand">
  </div>
  <div class="content">
    <h3 class="name">4 Pcs Combo of Self-Adhesive Wall Mount Mobile Holder & Charging Stand</h3>
    <p class="price">â‚¹149</p>
    <p class="desc">Self-adhesive wall-mount mobile holder with 2 hooks â€” perfect for charging and organizing your phone in bedroom, kitchen, or office.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="Self-Adhesive Heavy-Duty Transparent Wall Hooks (10-PCS)" data-price="â‚¹99" data-number="919711947389">
  <div class="img-wrap">
    <img src="6.jpg" alt="Self-Adhesive Heavy-Duty Transparent Wall Hooks (10-PCS)">
  </div>
  <div class="content">
    <h3 class="name">Self-Adhesive Heavy-Duty Transparent Wall Hooks (10-PCS)</h3>
    <p class="price">â‚¹99</p>
    <p class="desc">Transparent, no-drill adhesive hooks (Pack of 10) â€” easy-to-use, waterproof, and ultra-durable for versatile, damage-free hanging in kitchen, bathroom, or office.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>
  <div class="card" data-name="Self-Adhesive Heavy-Duty Transparent Wall Hooks (30-PCS)" data-price="â‚¹179" data-number="919711947389">
  <div class="img-wrap">
    <img src="7.jpg" alt="Self-Adhesive Heavy-Duty Transparent Wall Hooks (30-PCS)">
  </div>
  <div class="content">
    <h3 class="name">Self-Adhesive Heavy-Duty Transparent Wall Hooks (30-PCS)</h3>
    <p class="price">â‚¹179</p>
    <p class="desc">Transparent, no-drill adhesive hooks (Pack of 30) â€” easy-to-use, waterproof, and ultra-durable for versatile, damage-free hanging in kitchen, bathroom, or office.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="Shoe Slots 3-PCS Organizer for Closet (Double-Layer, Space-Saver)" data-price="â‚¹299" data-number="919711947389">
  <div class="img-wrap">
    <img src="8.jpg" alt="Shoe Slots 3-PCS Organizer for Closet (Double-Layer, Space-Saver)">
  </div>
  <div class="content">
    <h3 class="name">Shoe Slots 3-PCS Organizer for Closet (Double-Layer, Space-Saver)</h3>
    <p class="price">â‚¹299</p>
    <p class="desc">Double-layer plastic shoe slots (set of 3) â€” wisely adjustable, non-slip design keeps shoes neatly stacked and doubles your closet space instantly.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="Shoe Slots 6-PCS Organizer for Closet (Double-Layer, Space-Saver)" data-price="â‚¹399" data-number="919711947389">
  <div class="img-wrap">
    <img src="9.jpg" alt="Shoe Slots 6-PCS Organizer for Closet (Double-Layer, Space-Saver)">
  </div>
  <div class="content">
    <h3 class="name">Shoe Slots 6-PCS Organizer for Closet (Double-Layer, Space-Saver)</h3>
    <p class="price">â‚¹399</p>
    <p class="desc">Double-layer plastic shoe slots (set of 6) â€” wisely adjustable, non-slip design keeps shoes neatly stacked and doubles your closet space instantly.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="650 ml Chopper Kitchen Tool â€“ Pack of 1" data-price="â‚¹199" data-number="919711947389">
  <div class="img-wrap">
    <img src="10.jpg" alt="650 ml Chopper Kitchen Tool â€“ Pack of 1">
  </div>
  <div class="content">
    <h3 class="name">650 ml Chopper Kitchen Tool â€“ Pack of 1</h3>
    <p class="price">â‚¹199</p>
    <p class="desc">650 ml handy plastic chopper with sharp stainless-steel bladesâ€”perfect for chopping, dicing, and mincing veggies, fruits, nuts, and more in seconds.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="1000 ml XXL 5-Blade Pull-Cord Chopper â€“ Pack of 1" data-price="â‚¹199" data-number="919711947389">
  <div class="img-wrap">
    <img src="11.jpg" alt="1000 ml XXL 5-Blade Pull-Cord Chopper â€“ Pack of 1">
  </div>
  <div class="content">
    <h3 class="name">1000 ml XXL 5-Blade Pull-Cord Chopper â€“ Pack of 1</h3>
    <p class="price">â‚¹199</p>
    <p class="desc">Spacious 1000 ml manual chopper with five stainless-steel blades â€” just a few pulls of the cord delivers up to 380 fine cuts in under 20 seconds for fast salad, chutney, or paste prep.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="450 ml Compact Pull Chopper â€“ Pack of 1" data-price="â‚¹149" data-number="919711947389">
  <div class="img-wrap">
    <img src="12.jpg" alt="450 ml Compact Pull Chopper â€“ Pack of 1">
  </div>
  <div class="content">
    <h3 class="name">450 ml Compact Pull Chopper â€“ Pack of 1</h3>
    <p class="price">â‚¹149</p>
    <p class="desc">450 ml handy pull-chopper made of BPA-free plastic with sharp stainless-steel blades â€” breaks down onions, garlic, veggies, fruits, nuts in seconds with quick rope pulls.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="Compact Multicolor Rice-Wash Bowl with Handle â€“ Pack of 1" data-price="â‚¹99" data-number="919711947389">
  <div class="img-wrap">
    <img src="13.jpg" alt="Compact Multicolor Rice-Wash Bowl with Handle â€“ Pack of 1">
  </div>
  <div class="content">
    <h3 class="name">Compact Multicolor Rice-Wash Bowl with Handle â€“ Pack of 1</h3>
    <p class="price">â‚¹99</p>
    <p class="desc">10 cm plastic rice-wash bowl with ergonomic handleâ€”easy to wash and strain rice, pulses, fruits, or vegetables without losing grains.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>

<div class="card" data-name="60 cm Ã— 200 cm Aluminum Foil Backsplash Sticker â€“ Pack of 1" data-price="â‚¹169" data-number="919711947389">
  <div class="img-wrap">
    <img src="14.jpg" alt="60 cm Ã— 200 cm Aluminum Foil Backsplash Sticker â€“ Pack of 1">
  </div>
  <div class="content">
    <h3 class="name">60 cm Ã— 200 cm Aluminum Foil Backsplash Sticker â€“ Pack of 1</h3>
    <p class="price">â‚¹169</p>
    <p class="desc">High-quality, eco-friendly peel-and-stick aluminum foil paper (60 cm Ã— 200 cm) â€” oil-proof, waterproof, and anti-rust, perfect for protecting and refreshing kitchen surfaces.</p>
  </div>
  <div class="cta"><a class="buy" href="#" target="_blank" rel="noopener">Shop Now on WhatsApp</a></div>
</div>
</main>

<section class="policies">
  <h4>Store Policies</h4>
  <p><strong>Returns:</strong> 7 days for unused items in original condition. <strong>Shipping:</strong> 2â€“5 business days. <strong>Support:</strong> WhatsApp Monâ€“Sat, 10amâ€“7pm.</p>
</section>

<footer>Â© <span id="yr"></span> NISHKART </footer>
   
<script>
  document.getElementById('yr').textContent = new Date().getFullYear();
  function makeWhatsAppLink(number, name, price) {
    const msg = `Hi, I want to buy "{'{'}name{'}'}" for {'{'}price{'}'}`
      .replace("{'{'}name{'}'}", name).replace("{'{'}price{'}'}", price);
    return `https://wa.me/${number}?text=${encodeURIComponent(msg)}`;
  }
  document.querySelectorAll('.card').forEach(card => {
    const name  = card.dataset.name;
    const price = card.dataset.price;
    const num   = card.dataset.number;
    const link  = card.querySelector('.buy');
    link.href   = makeWhatsAppLink(num, name, price);
  });
</script>
  <script>
/* ====== CONFIG ====== */
const WA_NUMBER = "919711947389"; // your WhatsApp number (no +)
const STORAGE_KEY = "nishkart_cart";

/* ====== UTIL ====== */
const â‚¹ = n => "â‚¹" + Number(n||0).toLocaleString("en-IN");
const parseâ‚¹ = s => Number(String(s).replace(/[^\d.]/g,"")) || 0;
const slug = s => (s||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");

/* ====== STORAGE ====== */
const loadCart = () => JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
const saveCart = cart => localStorage.setItem(STORAGE_KEY, JSON.stringify(cart));
const countCart = cart => cart.reduce((a,i)=>a+i.qty,0);
const subtotal = cart => cart.reduce((a,i)=>a + i.qty * i.price, 0);

/* ====== CART CORE ====== */
function addToCart(item){
  const cart = loadCart();
  const i = cart.findIndex(x => x.id === item.id);
  if(i > -1) {
    cart[i].qty += item.qty || 1;
  } else {
    cart.push({...item, qty: item.qty || 1});
  }
  saveCart(cart);
  renderCart();

  // âœ… No toast, no alert â€” just open the cart
  if (typeof openCart === "function") {
    openCart();
  } else {
    // safety fallback if function name not in scope
    const drawer = document.getElementById("cartDrawer");
    const backdrop = document.getElementById("cartBackdrop");
    if (drawer) drawer.classList.add("open");
    if (backdrop) backdrop.hidden = false;
  }
}


/* ====== UI WIRING ====== */
const els = {
  count: document.getElementById("cartCount"),
  drawer: document.getElementById("cartDrawer"),
  backdrop: document.getElementById("cartBackdrop"),
  btnOpen: document.getElementById("cartButton"),
  btnClose: document.getElementById("cartClose"),
  list: document.getElementById("cartItems"),
  sub: document.getElementById("cartSubtotal"),
  checkout: document.getElementById("cartCheckout"),
  clear: document.getElementById("cartClear")
};

function openCart(){ els.drawer.classList.add("open"); els.backdrop.hidden = false; }
function closeCart(){ els.drawer.classList.remove("open"); els.backdrop.hidden = true; }

els.btnOpen.addEventListener("click", openCart);
els.btnClose.addEventListener("click", closeCart);
els.backdrop.addEventListener("click", closeCart);
document.addEventListener("keydown", e => { if(e.key==="Escape") closeCart(); });

/* ====== RENDER ====== */
function renderCart(){
  const cart = loadCart();
  els.count.textContent = countCart(cart);
  els.sub.textContent = â‚¹(subtotal(cart));
  els.list.innerHTML = cart.length ? cart.map(item => `
    <div class="cart-item" data-id="${item.id}">
      <div class="cart-thumb"><img src="${item.image || 'images/placeholder1.png'}" alt=""></div>
      <div>
        <div class="cart-title">${item.name}</div>
        <div class="cart-price">${â‚¹(item.price)}</div>
        <div class="qty">
          <button class="qminus">â€“</button>
          <span>${item.qty}</span>
          <button class="qplus">+</button>
        </div>
      </div>
      <button class="remove" title="Remove">Ã—</button>
    </div>
  `).join("") : `<div style="padding:20px;color:var(--muted);">Your cart is empty.</div>`;

  // Bind qty +/-, remove
  els.list.querySelectorAll(".cart-item").forEach(row=>{
    const id = row.dataset.id;
    row.querySelector(".qminus").onclick = () => {
      const cart = loadCart(); const i = cart.findIndex(x=>x.id===id);
      if(i>-1){ cart[i].qty = Math.max(1, cart[i].qty-1); saveCart(cart); renderCart(); }
    };
    row.querySelector(".qplus").onclick = () => {
      const cart = loadCart(); const i = cart.findIndex(x=>x.id===id);
      if(i>-1){ cart[i].qty += 1; saveCart(cart); renderCart(); }
    };
    row.querySelector(".remove").onclick = () => removeFromCart(id);
  });
}
renderCart();

/* ====== CHECKOUT (WhatsApp) ====== */
els.checkout.addEventListener("click", ()=>{
  const cart = loadCart();
  if(!cart.length) return alert("Cart is empty.");
  const lines = cart.map((i,idx)=> `${idx+1}) ${i.name} â€” â‚¹${i.price} Ã— ${i.qty}`);
  const total = â‚¹(subtotal(cart));
  const msg = `NISHKART Cart:%0A${lines.join("%0A")}%0A%0ATotal: ${total}`;
  const url = `https://wa.me/${WA_NUMBER}?text=${msg}`;
  window.open(url, "_blank");
});
els.clear.addEventListener("click", clearCart);

/* ====== AUTO-INJECT â€œAdd to Cartâ€ ON EVERY CARD ====== */
function wireCards(){
  document.querySelectorAll(".card").forEach(card=>{
    // 1) ensure Add to Cart button exists
    let actions = card.querySelector(".actions") || card.querySelector(".cta");
    if(actions && !actions.querySelector(".add-to-cart")){
      const btn = document.createElement("button");
      btn.type = "button"; btn.className = "add-to-cart btn-outline";
      btn.textContent = "Add to Cart";
      // style: outline like your Share button (inherits via .btn-outline if you use it)
      btn.style.border = "2px solid #ff3b2f";
      btn.style.color = "#ff3b2f";
      btn.style.borderRadius = "12px";
      btn.style.padding = "12px 14px";
      btn.style.fontWeight = "800";
      btn.style.cursor = "pointer";
      btn.onmouseover = () => { btn.style.background = "#ff3b2f"; btn.style.color="#fff"; };
      btn.onmouseout  = () => { btn.style.background = "transparent"; btn.style.color="#ff3b2f"; };
      actions.classList.add("actions");
      actions.appendChild(btn);
    }

    // 2) hook Add to Cart logic
    const addBtn = card.querySelector(".add-to-cart");
    if(!addBtn) return;
    addBtn.onclick = ()=>{
      const name  = card.dataset.name || card.querySelector(".name")?.textContent?.trim();
      const price = parseâ‚¹(card.dataset.price || card.querySelector(".price")?.textContent);
      const imgEl = card.querySelector(".img-wrap img");
      const image = imgEl ? imgEl.getAttribute("src") : null;
      const id = slug(name);
      addToCart({ id, name, price, image });
    };
  });
}
wireCards();

/* ====== Mini toast ====== */
function toast(txt){
  const t = document.createElement("div");
  t.textContent = txt;
  t.style.position="fixed"; t.style.bottom="18px"; t.style.left="50%";
  t.style.transform="translateX(-50%)"; t.style.background="#141821"; t.style.color="#fff";
  t.style.padding="10px 14px"; t.style.borderRadius="10px"; t.style.fontWeight="700";
  t.style.boxShadow="0 6px 20px rgba(0,0,0,.25)"; t.style.zIndex=9999;
  document.body.appendChild(t);
  setTimeout(()=>t.style.opacity="0", 1100);
  setTimeout(()=>t.remove(), 1500);
}
</script>
  <script>
(function(){
  const toSlug = s => (s||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");
  const parsePrice = s => Number(String(s||"").replace(/[^\d]/g,"")) || 0;

  function ensureAddButtons(){
    document.querySelectorAll(".card").forEach(card=>{
      // 1) find/make CTA container
      let cta = card.querySelector(".cta") || card.querySelector(".actions");
      if(!cta){
        cta = document.createElement("div");
        cta.className = "cta actions";
        card.appendChild(cta);
      } else {
        cta.classList.add("actions");
      }

      // 2) add button if missing
      if(!cta.querySelector(".add-to-cart")){
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "add-to-cart";
        btn.textContent = "Add to Cart";
        cta.appendChild(btn);

        // 3) wire click
        btn.addEventListener("click", ()=>{
          const name  = card.dataset.name || card.querySelector(".name")?.textContent?.trim();
          const price = parsePrice(card.dataset.price || card.querySelector(".price")?.textContent);
          const imgEl = card.querySelector(".img-wrap img");
          const image = imgEl ? imgEl.getAttribute("src") : null;
          const id    = toSlug(name);

          if (typeof addToCart === "function") {
            // use your full cart logic if present
            addToCart({ id, name, price, image });
          } else {
            // minimal fallback cart
            const KEY = "nishkart_cart";
            const load = ()=> JSON.parse(localStorage.getItem(KEY)||"[]");
            const save = c => localStorage.setItem(KEY, JSON.stringify(c));
            const cart = load();
            const i = cart.findIndex(x=>x.id===id);
            if(i>-1) cart[i].qty += 1; else cart.push({id,name,price,image,qty:1});
            save(cart);
            const badge = document.getElementById("cartCount");
            if(badge) badge.textContent = cart.reduce((a,it)=>a+it.qty,0);
            alert("Added to cart");
          }
        });
      }
    });
  }

  // run reliably
  document.addEventListener("DOMContentLoaded", ensureAddButtons);
  window.addEventListener("load", ensureAddButtons);
  setTimeout(ensureAddButtons, 400);
})();
</script>



</body>
</html>
